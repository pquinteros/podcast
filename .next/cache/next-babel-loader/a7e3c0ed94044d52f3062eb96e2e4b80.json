{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\n//import fetch from 'isomorphic-fetch'\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport Error from 'next/error';\n\nvar Index = function Index(props) {\n  return React.createElement(Layout, {\n    title: \"Podcasts\"\n  }, props.statusCode !== 200 ? React.createElement(Error, {\n    statusCode: props.statusCode\n  }) : React.createElement(\"div\", {\n    className: \"jsx-3284334561\" + \" \" + \"grid\"\n  }, React.createElement(ChannelGrid, {\n    channels: props.channels\n  })), React.createElement(_JSXStyle, {\n    id: \"3284334561\"\n  }, \".grid.jsx-3284334561{margin-top:25px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYWJsb3F1aW50ZXJvcy9sYXJhdmVsL3BvZGNhc3QvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUJLLEFBR3NCLGdCQUNqQiIsImZpbGUiOiIvVXNlcnMvcGFibG9xdWludGVyb3MvbGFyYXZlbC9wb2RjYXN0L3BhZ2VzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCdcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgQ2hhbm5lbEdyaWQgZnJvbSAnLi4vY29tcG9uZW50cy9DaGFubmVsR3JpZCc7XG5pbXBvcnQgRXJyb3IgZnJvbSAnbmV4dC9lcnJvcic7XG5cblxuY29uc3QgSW5kZXggPSAocHJvcHMpID0+IChcbiBcbiAgPExheW91dCB0aXRsZT1cIlBvZGNhc3RzXCI+XG4gICAge3Byb3BzLnN0YXR1c0NvZGUgIT09IDIwMFxuICAgICAgP1xuICAgICAgPEVycm9yIHN0YXR1c0NvZGU9e3Byb3BzLnN0YXR1c0NvZGV9IC8+XG4gICAgICA6XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWRcIj5cbiAgICAgICAgPENoYW5uZWxHcmlkIGNoYW5uZWxzPXtwcm9wcy5jaGFubmVsc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIH1cblxuXG4gIDxzdHlsZSBqc3g+XG4gICAge2BcbiAgICAuZ3JpZHtcbiAgICAgIG1hcmdpbi10b3A6MjVweDtcbiAgICB9XG4gICAgYH1cbiAgPC9zdHlsZT5cbiAgXG4gIDwvTGF5b3V0PlxuKTtcblxuSW5kZXguZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgZnVuY3Rpb24gKHJlcSkge1xuICB0cnl7XG4gIGxldCByZXEgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy9yZWNvbW1lbmRlZGApO1xuICBsZXQgY2hhbm5lbHMgPSBhd2FpdCByZXEuanNvbigpO1xuXG4gIHJldHVybiB7IGNoYW5uZWxzOiBjaGFubmVscy5ib2R5LCBzdGF0dXNDb2RlOiAyMDAgfVxuXG4gIH1jYXRjaChlKXtcbiAgcmVxLnN0YXR1c0NvZGUgPSA1MDM7XG4gIHJldHVybiB7IGNoYW5uZWxzOiBudWxsLCBzdGF0dXNDb2RlOiA1MDMgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4OyJdfQ== */\\n/*@ sourceURL=/Users/pabloquinteros/laravel/podcast/pages/index.js */\"));\n};\n\nIndex.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(req) {\n    var _req, channels;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetch(\"https://api.audioboom.com/channels/recommended\");\n\n          case 3:\n            _req = _context.sent;\n            _context.next = 6;\n            return _req.json();\n\n          case 6:\n            channels = _context.sent;\n            return _context.abrupt(\"return\", {\n              channels: channels.body,\n              statusCode: 200\n            });\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            req.statusCode = 503;\n            return _context.abrupt(\"return\", {\n              channels: null,\n              statusCode: 503\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Index;","map":{"version":3,"sources":["/Users/pabloquinteros/laravel/podcast/pages/index.js"],"names":["fetch","Layout","ChannelGrid","Error","Index","props","statusCode","channels","getInitialProps","req","json","body"],"mappings":";;;;AAAA;AACA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,KAAP,MAAkB,YAAlB;;AAGA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD;AAAA,SAEZ,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC;AAAd,KACGA,KAAK,CAACC,UAAN,KAAqB,GAArB,GAEC,oBAAC,KAAD;AAAO,IAAA,UAAU,EAAED,KAAK,CAACC;AAAzB,IAFD,GAIC;AAAA,wCAAe;AAAf,KACE,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAED,KAAK,CAACE;AAA7B,IADF,CALJ;AAAA;AAAA,+qDAFY;AAAA,CAAd;;AAwBAH,KAAK,CAACI,eAAN;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAwB,iBAAgBC,GAAhB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAENT,KAAK,kDAFC;;AAAA;AAElBS,YAAAA,IAFkB;AAAA;AAAA,mBAGDA,IAAG,CAACC,IAAJ,EAHC;;AAAA;AAGlBH,YAAAA,QAHkB;AAAA,6CAKf;AAAEA,cAAAA,QAAQ,EAAEA,QAAQ,CAACI,IAArB;AAA2BL,cAAAA,UAAU,EAAE;AAAvC,aALe;;AAAA;AAAA;AAAA;AAQtBG,YAAAA,GAAG,CAACH,UAAJ,GAAiB,GAAjB;AARsB,6CASf;AAAEC,cAAAA,QAAQ,EAAE,IAAZ;AAAkBD,cAAAA,UAAU,EAAE;AAA9B,aATe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAaA,eAAeF,KAAf","sourcesContent":["//import fetch from 'isomorphic-fetch'\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport Error from 'next/error';\n\n\nconst Index = (props) => (\n \n  <Layout title=\"Podcasts\">\n    {props.statusCode !== 200\n      ?\n      <Error statusCode={props.statusCode} />\n      :\n      <div className=\"grid\">\n        <ChannelGrid channels={props.channels} />\n      </div>\n    }\n\n\n  <style jsx>\n    {`\n    .grid{\n      margin-top:25px;\n    }\n    `}\n  </style>\n  \n  </Layout>\n);\n\nIndex.getInitialProps = async function (req) {\n  try{\n  let req = await fetch(`https://api.audioboom.com/channels/recommended`);\n  let channels = await req.json();\n\n  return { channels: channels.body, statusCode: 200 }\n\n  }catch(e){\n  req.statusCode = 503;\n  return { channels: null, statusCode: 503 }\n  }\n}\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}