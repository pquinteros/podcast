{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport PodcastList from '../components/PodcastList';\nimport Error from 'next/error';\n\nvar Channel = function Channel(props) {\n  return React.createElement(Layout, {\n    title: props.channel ? props.channel.title : 'Podcasts'\n  }, props.statusCode !== 200 ? React.createElement(Error, {\n    statusCode: props.statusCode\n  }) : React.createElement(\"div\", {\n    className: \"jsx-1564144110\"\n  }, React.createElement(\"div\", {\n    style: {\n      backgroundImage: \"url(\".concat(props.channel.urls.banner_image.original, \")\")\n    },\n    className: \"jsx-1564144110\" + \" \" + \"banner\"\n  }), React.createElement(\"h1\", {\n    className: \"jsx-1564144110\"\n  }, props.channel.title), props.series != '' ? React.createElement(\"h2\", {\n    className: \"jsx-1564144110\"\n  }, \"Series\") : '', React.createElement(ChannelGrid, {\n    channels: props.series\n  }), React.createElement(\"h2\", {\n    className: \"jsx-1564144110\" + \" \" + \"titleUltimos\"\n  }, \"\\xD9ltimos postcasts\"), React.createElement(PodcastList, {\n    podcasts: props.audioClips\n  })), React.createElement(_JSXStyle, {\n    id: \"1564144110\"\n  }, \".banner.jsx-1564144110{width:100%;padding-bottom:25%;background-position:50% 50%;background-size:cover;background-color:#eee;}h1.jsx-1564144110{font-weight:600;padding:25px 15px 25px 15px;margin:0;font-size:1.8em;}h2.jsx-1564144110{padding:15px 15px 30px 15px;font-size:1.4em;font-weight:600;margin:0;}.titleUltimos.jsx-1564144110{margin-top:30px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYWJsb3F1aW50ZXJvcy9sYXJhdmVsL3BvZGNhc3QvcGFnZXMvY2hhbm5lbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEyQm9CLEFBR3NCLEFBT0ssQUFNWSxBQU1iLFdBbEJJLEtBT1MsQUFZOUIsWUFOa0IsRUFaWSxjQU9uQixBQU1PLFNBTEEsS0FQTSxFQWFiLFNBTFgsQUFNQSxXQWJ3QixzQkFDeEIiLCJmaWxlIjoiL1VzZXJzL3BhYmxvcXVpbnRlcm9zL2xhcmF2ZWwvcG9kY2FzdC9wYWdlcy9jaGFubmVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgQ2hhbm5lbEdyaWQgZnJvbSAnLi4vY29tcG9uZW50cy9DaGFubmVsR3JpZCc7XG5pbXBvcnQgUG9kY2FzdExpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9Qb2RjYXN0TGlzdCc7XG5pbXBvcnQgRXJyb3IgZnJvbSAnbmV4dC9lcnJvcic7XG5cbmNvbnN0IENoYW5uZWw9IChwcm9wcykgPT4oXG4gIDxMYXlvdXQgdGl0bGU9e3Byb3BzLmNoYW5uZWwgPyBwcm9wcy5jaGFubmVsLnRpdGxlIDogJ1BvZGNhc3RzJ30+IFxuXG4gICAge3Byb3BzLnN0YXR1c0NvZGUgIT09IDIwMFxuICAgICAgP1xuICAgICAgPEVycm9yIHN0YXR1c0NvZGU9e3Byb3BzLnN0YXR1c0NvZGV9IC8+XG4gICAgICA6XG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhbm5lclwiIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybCgke3Byb3BzLmNoYW5uZWwudXJscy5iYW5uZXJfaW1hZ2Uub3JpZ2luYWx9KWAgfX0gLz5cblxuICAgICAgICA8aDE+e3Byb3BzLmNoYW5uZWwudGl0bGV9PC9oMT5cblxuICAgICAgICB7cHJvcHMuc2VyaWVzIT0nJz88aDI+U2VyaWVzPC9oMj46Jyd9XG5cbiAgICAgICAgPENoYW5uZWxHcmlkIGNoYW5uZWxzPXtwcm9wcy5zZXJpZXN9IC8+XG5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRpdGxlVWx0aW1vc1wiPsOZbHRpbW9zIHBvc3RjYXN0czwvaDI+XG5cbiAgICAgICAgPFBvZGNhc3RMaXN0IHBvZGNhc3RzPXtwcm9wcy5hdWRpb0NsaXBzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgfVxuICAgIFxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC5iYW5uZXIge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAyNSU7XG4gICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDUwJTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gICAgICAgIH1cbiAgICAgICAgaDEge1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgcGFkZGluZzogMjVweCAxNXB4IDI1cHggMTVweDtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgZm9udC1zaXplOiAxLjhlbTtcbiAgICAgICAgfVxuICAgICAgICBoMiB7XG4gICAgICAgICAgcGFkZGluZzogMTVweCAxNXB4IDMwcHggMTVweDtcbiAgICAgICAgICBmb250LXNpemU6IDEuNGVtO1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICB9XG4gICAgICAgIC50aXRsZVVsdGltb3N7XG4gICAgICAgICAgbWFyZ2luLXRvcDozMHB4O1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgICAgXG4gICAgPC9MYXlvdXQ+XG4pO1xuXG5cbkNoYW5uZWwuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgZnVuY3Rpb24gKGNvbnRleHQpIHtcblxudHJ5e1xuICAgIGxldCB7IGlkIH0gPSBjb250ZXh0LnF1ZXJ5O1xuICAgIGxldCBbcmVxQ2hhbm5lbCwgcmVxQXVkaW8sIHJlcVNlcmllc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWR9YCksXG4gICAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWR9L2F1ZGlvX2NsaXBzYCksXG4gICAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWR9L2NoaWxkX2NoYW5uZWxzYClcbiAgICBdKTsgXG5cbiAgICBsZXQgZGF0YUNoYW5uZWwgPSBhd2FpdCByZXFDaGFubmVsLmpzb24oKTtcbiAgICBsZXQgZGF0YUF1ZGlvID0gYXdhaXQgcmVxQXVkaW8uanNvbigpO1xuICAgIGxldCBkYXRhU2VyaWVzID0gYXdhaXQgcmVxU2VyaWVzLmpzb24oKTtcblxuICAgIGlmIChyZXFDaGFubmVsLnN0YXR1cyA+PSA0MDApe1xuICAgIGNvbnRleHQuc3RhdHVzQ29kZSA9IHJlcUNoYW5uZWwuc3RhdHVzO1xuICAgIHJldHVybiB7IGNoYW5uZWw6IG51bGwsIGF1ZGlvQ2xpcHM6IG51bGwsIHNlcmllczogbnVsbCwgc3RhdHVzQ29kZTogcmVxQ2hhbm5lbC5zdGF0dXMgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGNoYW5uZWw6IGRhdGFDaGFubmVsLmJvZHkuY2hhbm5lbCwgYXVkaW9DbGlwczogZGF0YUF1ZGlvLmJvZHkuYXVkaW9fY2xpcHMsIHNlcmllczogZGF0YVNlcmllcy5ib2R5LmNoYW5uZWxzLCBzdGF0dXNDb2RlOiAyMDAgfVxuXG59Y2F0Y2goZSl7XG4gICAgY29udGV4dC5zdGF0dXNDb2RlID0gNTAzO1xuICAgIHJldHVybiB7IGNoYW5uZWw6IG51bGwsIGF1ZGlvQ2xpcHM6IG51bGwsIHNlcmllczogbnVsbCwgc3RhdHVzQ29kZTo1MDMgfVxufVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGFubmVsOyJdfQ== */\\n/*@ sourceURL=/Users/pabloquinteros/laravel/podcast/pages/channel.js */\"));\n};\n\nChannel.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var id, _ref2, _ref3, reqChannel, reqAudio, reqSeries, dataChannel, dataAudio, dataSeries;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            id = context.query.id;\n            _context.next = 4;\n            return _Promise.all([fetch(\"https://api.audioboom.com/channels/\".concat(id)), fetch(\"https://api.audioboom.com/channels/\".concat(id, \"/audio_clips\")), fetch(\"https://api.audioboom.com/channels/\".concat(id, \"/child_channels\"))]);\n\n          case 4:\n            _ref2 = _context.sent;\n            _ref3 = _slicedToArray(_ref2, 3);\n            reqChannel = _ref3[0];\n            reqAudio = _ref3[1];\n            reqSeries = _ref3[2];\n            _context.next = 11;\n            return reqChannel.json();\n\n          case 11:\n            dataChannel = _context.sent;\n            _context.next = 14;\n            return reqAudio.json();\n\n          case 14:\n            dataAudio = _context.sent;\n            _context.next = 17;\n            return reqSeries.json();\n\n          case 17:\n            dataSeries = _context.sent;\n\n            if (!(reqChannel.status >= 400)) {\n              _context.next = 21;\n              break;\n            }\n\n            context.statusCode = reqChannel.status;\n            return _context.abrupt(\"return\", {\n              channel: null,\n              audioClips: null,\n              series: null,\n              statusCode: reqChannel.status\n            });\n\n          case 21:\n            return _context.abrupt(\"return\", {\n              channel: dataChannel.body.channel,\n              audioClips: dataAudio.body.audio_clips,\n              series: dataSeries.body.channels,\n              statusCode: 200\n            });\n\n          case 24:\n            _context.prev = 24;\n            _context.t0 = _context[\"catch\"](0);\n            context.statusCode = 503;\n            return _context.abrupt(\"return\", {\n              channel: null,\n              audioClips: null,\n              series: null,\n              statusCode: 503\n            });\n\n          case 28:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 24]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Channel;","map":{"version":3,"sources":["/Users/pabloquinteros/laravel/podcast/pages/channel.js"],"names":["Layout","ChannelGrid","PodcastList","Error","Channel","props","channel","title","statusCode","backgroundImage","urls","banner_image","original","series","audioClips","getInitialProps","context","id","query","all","fetch","reqChannel","reqAudio","reqSeries","json","dataChannel","dataAudio","dataSeries","status","body","audio_clips","channels"],"mappings":"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","sourcesContent":["import Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport PodcastList from '../components/PodcastList';\nimport Error from 'next/error';\n\nconst Channel= (props) =>(\n  <Layout title={props.channel ? props.channel.title : 'Podcasts'}> \n\n    {props.statusCode !== 200\n      ?\n      <Error statusCode={props.statusCode} />\n      :\n      <div>\n        <div className=\"banner\" style={{ backgroundImage: `url(${props.channel.urls.banner_image.original})` }} />\n\n        <h1>{props.channel.title}</h1>\n\n        {props.series!=''?<h2>Series</h2>:''}\n\n        <ChannelGrid channels={props.series} />\n\n        <h2 className=\"titleUltimos\">Ùltimos postcasts</h2>\n\n        <PodcastList podcasts={props.audioClips} />\n      </div>\n    }\n    \n        <style jsx>{`\n        .banner {\n          width: 100%;\n          padding-bottom: 25%;\n          background-position: 50% 50%;\n          background-size: cover;\n          background-color: #eee;\n        }\n        h1 {\n          font-weight: 600;\n          padding: 25px 15px 25px 15px;\n          margin: 0;\n          font-size: 1.8em;\n        }\n        h2 {\n          padding: 15px 15px 30px 15px;\n          font-size: 1.4em;\n          font-weight: 600;\n          margin: 0;\n        }\n        .titleUltimos{\n          margin-top:30px;\n        }\n      `}</style>\n       \n    </Layout>\n);\n\n\nChannel.getInitialProps = async function (context) {\n\ntry{\n    let { id } = context.query;\n    let [reqChannel, reqAudio, reqSeries] = await Promise.all([\n        fetch(`https://api.audioboom.com/channels/${id}`),\n        fetch(`https://api.audioboom.com/channels/${id}/audio_clips`),\n        fetch(`https://api.audioboom.com/channels/${id}/child_channels`)\n    ]); \n\n    let dataChannel = await reqChannel.json();\n    let dataAudio = await reqAudio.json();\n    let dataSeries = await reqSeries.json();\n\n    if (reqChannel.status >= 400){\n    context.statusCode = reqChannel.status;\n    return { channel: null, audioClips: null, series: null, statusCode: reqChannel.status }\n    }\n\n    return { channel: dataChannel.body.channel, audioClips: dataAudio.body.audio_clips, series: dataSeries.body.channels, statusCode: 200 }\n\n}catch(e){\n    context.statusCode = 503;\n    return { channel: null, audioClips: null, series: null, statusCode:503 }\n}\n}\n\nexport default Channel;"]},"metadata":{},"sourceType":"module"}